<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Mini App –¢–µ—Å—Ç</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body { font-family: sans-serif; text-align: center; padding-top: 100px; background: #f5f5f5;}
    button { font-size: 24px; padding: 20px 50px; background: #0088cc; color: #fff; border:none; border-radius:10px; cursor:pointer;}
  </style>
</head>
<body>
  <h2>Mini App —Ä–∞–±–æ—Ç–∞–µ—Ç</h2>
  <button onclick="send()">üöÄ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</button>

  <script>
    const tg = window.Telegram.WebApp;

    window.addEventListener("DOMContentLoaded", () => {
      tg.ready();
      tg.expand();
      console.log("üß© Mini App –≥–æ—Ç–æ–≤ ‚Äî –≤–µ—Ä—Å–∏—è:", tg.version);
    });

    function send() {
      const payload = { test: true, time: new Date().toISOString() };
      console.log("üì§ –ü—ã—Ç–∞–µ–º—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å:", payload);
      if (tg && typeof tg.sendData === "function") {
        tg.sendData(JSON.stringify(payload));
        console.log("‚úÖ sendData –≤—ã–∑–≤–∞–Ω");
        tg.close();
      } else {
        console.error("‚ùå sendData –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω");
        alert("–ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—â–µ–Ω–æ –∏–∑ Telegram");
      }
    }
  </script>
</body>
</html>
